/*!
 * w-dwdata-builder v1.0.0
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("fs"),require("path"),require("events"),require("fs/promises"),require("node:fs/promises"),require("node:stream"),require("node:path"),require("os"),require("url")):"function"==typeof define&&define.amd?define(["fs","path","events","fs/promises","node:fs/promises","node:stream","node:path","os","url"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-dwdata-builder"]=e(t.fs,t.path,t.events,t.promises$1,t.promises,t.node_stream,t.node_path,t.os,t.url)}(this,function(t,e,r,n,i,s,o,a,c){"use strict";var l="undefined"!=typeof document?document.currentScript:null;function u(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var f=u(e),h=Array.isArray,d="object"==typeof global&&global&&global.Object===Object&&global,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),y=v.Symbol,m=Object.prototype,g=m.hasOwnProperty,_=m.toString,w=y?y.toStringTag:void 0;var b=Object.prototype.toString;var j=y?y.toStringTag:void 0;function O(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":j&&j in Object(t)?function(t){var e=g.call(t,w),r=t[w];try{t[w]=void 0;var n=!0}catch(t){}var i=_.call(t);return n&&(e?t[w]=r:delete t[w]),i}(t):function(t){return b.call(t)}(t)}function S(t){return null!=t&&"object"==typeof t}function E(t){return"symbol"==typeof t||S(t)&&"[object Symbol]"==O(t)}var D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/;function k(t,e){if(h(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!E(t))||(x.test(t)||!D.test(t)||null!=e&&t in Object(e))}function P(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function A(t){if(!P(t))return!1;var e=O(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var z,$=v["__core-js_shared__"],M=(z=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var C=Function.prototype.toString;function R(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var I=/^\[object .+?Constructor\]$/,T=Function.prototype,L=Object.prototype,F=T.toString,N=L.hasOwnProperty,W=RegExp("^"+F.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H(t){return!(!P(t)||(e=t,M&&M in e))&&(A(t)?W:I).test(R(t));var e}function U(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return H(r)?r:void 0}var B=U(Object,"create");var Y=Object.prototype.hasOwnProperty;var q=Object.prototype.hasOwnProperty;function V(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function G(t,e){return t===e||t!=t&&e!=e}function K(t,e){for(var r=t.length;r--;)if(G(t[r][0],e))return r;return-1}V.prototype.clear=function(){this.__data__=B?B(null):{},this.size=0},V.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},V.prototype.get=function(t){var e=this.__data__;if(B){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Y.call(e,t)?e[t]:void 0},V.prototype.has=function(t){var e=this.__data__;return B?void 0!==e[t]:q.call(e,t)},V.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=B&&void 0===e?"__lodash_hash_undefined__":e,this};var J=Array.prototype.splice;function Z(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(t){var e=this.__data__,r=K(e,t);return!(r<0)&&(r==e.length-1?e.pop():J.call(e,r,1),--this.size,!0)},Z.prototype.get=function(t){var e=this.__data__,r=K(e,t);return r<0?void 0:e[r][1]},Z.prototype.has=function(t){return K(this.__data__,t)>-1},Z.prototype.set=function(t,e){var r=this.__data__,n=K(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Q=U(v,"Map");function X(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function tt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tt.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(Q||Z),string:new V}},tt.prototype.delete=function(t){var e=X(this,t).delete(t);return this.size-=e?1:0,e},tt.prototype.get=function(t){return X(this,t).get(t)},tt.prototype.has=function(t){return X(this,t).has(t)},tt.prototype.set=function(t,e){var r=X(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function et(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(et.Cache||tt),r}et.Cache=tt;var rt,nt,it,st=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/\\(\\)?/g,at=(rt=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(st,function(t,r,n,i){e.push(n?i.replace(ot,"$1"):r||t)}),e},nt=et(rt,function(t){return 500===it.size&&it.clear(),t}),it=nt.cache,nt),ct=at;var lt=y?y.prototype:void 0,ut=lt?lt.toString:void 0;function ft(t){if("string"==typeof t)return t;if(h(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(t,ft)+"";if(E(t))return ut?ut.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ht(t){return null==t?"":ft(t)}function dt(t,e){return h(t)?t:k(t,e)?[t]:ct(ht(t))}function pt(t){if("string"==typeof t||E(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function vt(t,e){for(var r=0,n=(e=dt(e,t)).length;null!=t&&r<n;)t=t[pt(e[r++])];return r&&r==n?t:void 0}function yt(t,e,r){var n=null==t?void 0:vt(t,e);return void 0===n?r:n}var mt=Object.prototype;var gt=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),_t=gt,wt=Object.prototype.hasOwnProperty;function bt(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||mt))return _t(t);var e,r,n=[];for(var i in Object(t))wt.call(t,i)&&"constructor"!=i&&n.push(i);return n}var jt=U(v,"DataView"),Ot=U(v,"Promise"),St=U(v,"Set"),Et=U(v,"WeakMap"),Dt="[object Map]",xt="[object Promise]",kt="[object Set]",Pt="[object WeakMap]",At="[object DataView]",zt=R(jt),$t=R(Q),Mt=R(Ot),Ct=R(St),Rt=R(Et),It=O;(jt&&It(new jt(new ArrayBuffer(1)))!=At||Q&&It(new Q)!=Dt||Ot&&It(Ot.resolve())!=xt||St&&It(new St)!=kt||Et&&It(new Et)!=Pt)&&(It=function(t){var e=O(t),r="[object Object]"==e?t.constructor:void 0,n=r?R(r):"";if(n)switch(n){case zt:return At;case $t:return Dt;case Mt:return xt;case Ct:return kt;case Rt:return Pt}return e});var Tt=It;function Lt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ft(t){return null!=t&&Lt(t.length)&&!A(t)}function Nt(t){return function(e){return null==e?void 0:e[t]}}var Wt=Nt("length"),Ht=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ut="\\ud800-\\udfff",Bt="["+Ut+"]",Yt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",qt="\\ud83c[\\udffb-\\udfff]",Vt="[^"+Ut+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",Kt="[\\ud800-\\udbff][\\udc00-\\udfff]",Jt="(?:"+Yt+"|"+qt+")"+"?",Zt="[\\ufe0e\\ufe0f]?",Qt=Zt+Jt+("(?:\\u200d(?:"+[Vt,Gt,Kt].join("|")+")"+Zt+Jt+")*"),Xt="(?:"+[Vt+Yt+"?",Yt,Gt,Kt,Bt].join("|")+")",te=RegExp(qt+"(?="+qt+")|"+Xt+Qt,"g");function ee(t){return function(t){return Ht.test(t)}(t)?function(t){for(var e=te.lastIndex=0;te.test(t);)++e;return e}(t):Wt(t)}function re(t){if(null==t)return 0;if(Ft(t))return"string"==typeof(e=t)||!h(e)&&S(e)&&"[object String]"==O(e)?ee(t):t.length;var e,r=Tt(t);return"[object Map]"==r||"[object Set]"==r?t.size:bt(t).length}function ne(t){return"[object Object]"===Object.prototype.toString.call(t)}function ie(t){if(ne(t)){for(let e in t)return!0;return!1}return!1}function se(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function oe(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function ae(t){let e,r=Object.prototype.toString.call(t);if(e="[object Promise]"===r,e)return!0;if("[object Function]"!==r)return!1;try{e="function"!=typeof t.subscribe&&"function"==typeof t.then}catch(t){}return e}var ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function le(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ue(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){if(this instanceof t){var r=[null];return r.push.apply(r,arguments),new(Function.bind.apply(e,r))}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})}),r}var fe={exports:{}};var he,de={exports:{}},pe=ue(Object.freeze({__proto__:null,default:{}}));function ve(){return he||(he=1,function(t){var e;t.exports=(e=e||function(t,e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==ce&&ce.crypto&&(r=ce.crypto),!r)try{r=pe}catch(t){}var n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),s={},o=s.lib={},a=o.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=a.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;e[n+s>>>2]|=o<<24-(n+s)%4*8}else for(var a=0;a<i;a+=4)e[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(n());return new c.init(e,t)}}),l=s.enc={},u=l.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new c.init(r,e/2)}},f=l.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new c.init(r,e)}},h=l.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},d=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,s=n.sigBytes,o=this.blockSize,a=s/(4*o),l=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,u=t.min(4*l,s);if(l){for(var f=0;f<l;f+=o)this._doProcessBlock(i,f);r=i.splice(0,l),n.sigBytes-=u}return new c.init(r,u)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});o.Hasher=d.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new p.HMAC.init(t,r).finalize(e)}}});var p=s.algo={};return s}(Math),e)}(de)),de.exports}!function(t){t.exports=ve().enc.Utf8}(fe);var ye=le(fe.exports),me={exports:{}};!function(t){var e;t.exports=(e=ve(),function(){var t=e,r=t.lib.WordArray;function n(t,e,n){for(var i=[],s=0,o=0;o<e;o++)if(o%4){var a=n[t.charCodeAt(o-1)]<<o%4*2|n[t.charCodeAt(o)]>>>6-o%4*2;i[s>>>2]|=a<<24-s%4*8,s++}return r.create(i,s)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],s=0;s<r;s+=3)for(var o=(e[s>>>2]>>>24-s%4*8&255)<<16|(e[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|e[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<r;a++)i.push(n.charAt(o>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<r.length;s++)i[r.charCodeAt(s)]=s}var o=r.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return n(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)}(me);var ge=le(me.exports);function _e(t){if(!se(t))return"";let e=ye.parse(t);return ge.stringify(e)}function we(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}var be,je=function(t,e,r){for(var n=-1,i=Object(t),s=r(t),o=s.length;o--;){var a=s[be?o:++n];if(!1===e(i[a],a,i))break}return t};function Oe(t){return S(t)&&"[object Arguments]"==O(t)}var Se=Object.prototype,Ee=Se.hasOwnProperty,De=Se.propertyIsEnumerable,xe=Oe(function(){return arguments}())?Oe:function(t){return S(t)&&Ee.call(t,"callee")&&!De.call(t,"callee")},ke=xe;var Pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ae=Pe&&"object"==typeof module&&module&&!module.nodeType&&module,ze=Ae&&Ae.exports===Pe?v.Buffer:void 0,$e=(ze?ze.isBuffer:void 0)||function(){return!1},Me=/^(?:0|[1-9]\d*)$/;function Ce(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Me.test(t))&&t>-1&&t%1==0&&t<e}var Re={};Re["[object Float32Array]"]=Re["[object Float64Array]"]=Re["[object Int8Array]"]=Re["[object Int16Array]"]=Re["[object Int32Array]"]=Re["[object Uint8Array]"]=Re["[object Uint8ClampedArray]"]=Re["[object Uint16Array]"]=Re["[object Uint32Array]"]=!0,Re["[object Arguments]"]=Re["[object Array]"]=Re["[object ArrayBuffer]"]=Re["[object Boolean]"]=Re["[object DataView]"]=Re["[object Date]"]=Re["[object Error]"]=Re["[object Function]"]=Re["[object Map]"]=Re["[object Number]"]=Re["[object Object]"]=Re["[object RegExp]"]=Re["[object Set]"]=Re["[object String]"]=Re["[object WeakMap]"]=!1;var Ie="object"==typeof exports&&exports&&!exports.nodeType&&exports,Te=Ie&&"object"==typeof module&&module&&!module.nodeType&&module,Le=Te&&Te.exports===Ie&&d.process,Fe=function(){try{var t=Te&&Te.require&&Te.require("util").types;return t||Le&&Le.binding&&Le.binding("util")}catch(t){}}(),Ne=Fe&&Fe.isTypedArray,We=Ne?function(t){return function(e){return t(e)}}(Ne):function(t){return S(t)&&Lt(t.length)&&!!Re[O(t)]},He=We,Ue=Object.prototype.hasOwnProperty;function Be(t,e){var r=h(t),n=!r&&ke(t),i=!r&&!n&&$e(t),s=!r&&!n&&!i&&He(t),o=r||n||i||s,a=o?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var l in t)!e&&!Ue.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ce(l,c))||a.push(l);return a}function Ye(t){return Ft(t)?Be(t):bt(t)}var qe=function(t,e){return function(r,n){if(null==r)return r;if(!Ft(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Object(r);(e?s--:++s<i)&&!1!==n(o[s],s,o););return r}}(function(t,e){return t&&je(t,e,Ye)}),Ve=qe;function Ge(t,e){var r=[];return Ve(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function Ke(t){var e=this.__data__=new Z(t);this.size=e.size}Ke.prototype.clear=function(){this.__data__=new Z,this.size=0},Ke.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Ke.prototype.get=function(t){return this.__data__.get(t)},Ke.prototype.has=function(t){return this.__data__.has(t)},Ke.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Z){var n=r.__data__;if(!Q||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new tt(n)}return r.set(t,e),this.size=r.size,this};function Je(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new tt;++e<r;)this.add(t[e])}function Ze(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Qe(t,e){return t.has(e)}Je.prototype.add=Je.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Je.prototype.has=function(t){return this.__data__.has(t)};function Xe(t,e,r,n,i,s){var o=1&r,a=t.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(t),u=s.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,d=2&r?new Je:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var p=t[f],v=e[f];if(n)var y=o?n(v,p,f,e,t,s):n(p,v,f,t,e,s);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!Ze(e,function(t,e){if(!Qe(d,e)&&(p===t||i(p,t,r,n,s)))return d.push(e)})){h=!1;break}}else if(p!==v&&!i(p,v,r,n,s)){h=!1;break}}return s.delete(t),s.delete(e),h}var tr=v.Uint8Array;function er(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function rr(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var nr=y?y.prototype:void 0,ir=nr?nr.valueOf:void 0;var sr=Object.prototype.propertyIsEnumerable,or=Object.getOwnPropertySymbols,ar=or?function(t){return null==t?[]:(t=Object(t),we(or(t),function(e){return sr.call(t,e)}))}:function(){return[]};function cr(t){return function(t,e,r){var n=e(t);return h(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Ye,ar)}var lr=Object.prototype.hasOwnProperty;var ur="[object Arguments]",fr="[object Array]",hr="[object Object]",dr=Object.prototype.hasOwnProperty;function pr(t,e,r,n,i,s){var o=h(t),a=h(e),c=o?fr:Tt(t),l=a?fr:Tt(e),u=(c=c==ur?hr:c)==hr,f=(l=l==ur?hr:l)==hr,d=c==l;if(d&&$e(t)){if(!$e(e))return!1;o=!0,u=!1}if(d&&!u)return s||(s=new Ke),o||He(t)?Xe(t,e,r,n,i,s):function(t,e,r,n,i,s,o){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new tr(t),new tr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return G(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=er;case"[object Set]":var c=1&n;if(a||(a=rr),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=2,o.set(t,e);var u=Xe(a(t),a(e),n,i,s,o);return o.delete(t),u;case"[object Symbol]":if(ir)return ir.call(t)==ir.call(e)}return!1}(t,e,c,r,n,i,s);if(!(1&r)){var p=u&&dr.call(t,"__wrapped__"),v=f&&dr.call(e,"__wrapped__");if(p||v){var y=p?t.value():t,m=v?e.value():e;return s||(s=new Ke),i(y,m,r,n,s)}}return!!d&&(s||(s=new Ke),function(t,e,r,n,i,s){var o=1&r,a=cr(t),c=a.length;if(c!=cr(e).length&&!o)return!1;for(var l=c;l--;){var u=a[l];if(!(o?u in e:lr.call(e,u)))return!1}var f=s.get(t),h=s.get(e);if(f&&h)return f==e&&h==t;var d=!0;s.set(t,e),s.set(e,t);for(var p=o;++l<c;){var v=t[u=a[l]],y=e[u];if(n)var m=o?n(y,v,u,e,t,s):n(v,y,u,t,e,s);if(!(void 0===m?v===y||i(v,y,r,n,s):m)){d=!1;break}p||(p="constructor"==u)}if(d&&!p){var g=t.constructor,_=e.constructor;g==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(d=!1)}return s.delete(t),s.delete(e),d}(t,e,r,n,i,s))}function vr(t,e,r,n,i){return t===e||(null==t||null==e||!S(t)&&!S(e)?t!=t&&e!=e:pr(t,e,r,n,vr,i))}function yr(t){return t==t&&!P(t)}function mr(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function gr(t){var e=function(t){for(var e=Ye(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,yr(i)]}return e}(t);return 1==e.length&&e[0][2]?mr(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var i=r.length,s=i,o=!n;if(null==t)return!s;for(t=Object(t);i--;){var a=r[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){var c=(a=r[i])[0],l=t[c],u=a[1];if(o&&a[2]){if(void 0===l&&!(c in t))return!1}else{var f=new Ke;if(n)var h=n(l,u,c,t,e,f);if(!(void 0===h?vr(u,l,3,n,f):h))return!1}}return!0}(r,t,e)}}function _r(t,e){return null!=t&&e in Object(t)}function wr(t,e){return null!=t&&function(t,e,r){for(var n=-1,i=(e=dt(e,t)).length,s=!1;++n<i;){var o=pt(e[n]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++n!=i?s:!!(i=null==t?0:t.length)&&Lt(i)&&Ce(o,i)&&(h(t)||ke(t))}(t,e,_r)}function br(t){return t}function jr(t){return k(t)?Nt(pt(t)):function(t){return function(e){return vt(e,t)}}(t)}function Or(t){return"function"==typeof t?t:null==t?br:"object"==typeof t?h(t)?(e=t[0],r=t[1],k(e)&&yr(r)?mr(pt(e),r):function(t){var n=yt(t,e);return void 0===n&&n===r?wr(t,e):vr(r,n,3)}):gr(t):jr(t);var e,r}function Sr(t,e){return(h(t)?we:Ge)(t,Or(e))}function Er(t){return"[object Array]"===Object.prototype.toString.call(t)}function Dr(t){return!0===(e=t)||!1===e||S(e)&&"[object Boolean]"==O(e);var e}function xr(t){let e=!1;if(se(t))e=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(function(t){return t!=t}(t))return!1;e=!0}return e}function kr(t,e){return!!ne(t)&&(!(!se(e)&&!xr(e))&&e in t)}function Pr(t,e,r,n={}){let i=yt(n,"withInfor");Dr(i)||(i=!0);let s={del:[],add:[],same:[],diff:[]};if(!se(r))return console.log("invalid key"),i&&(s.infor={}),s;Er(t)||(t=[t]),Er(e)||(e=[e]),t=Sr(t,t=>kr(t,r)),e=Sr(e,t=>kr(t,r));let o=new Map(e.map(t=>[t[r],t]));for(let e of t){let t=o.get(e[r]);if(t){JSON.stringify(e)===JSON.stringify(t)?s.same.push(t):s.diff.push(t),o.delete(e[r])}else s.del.push(e)}if(s.add=Array.from(o.values()),i){let t={};for(let e of s.del)t[e[r]]="del";for(let e of s.add)t[e[r]]="add";for(let e of s.diff)t[e[r]]="diff";for(let e of s.same)t[e[r]]="same";s.infor=t}return s}var Ar={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var c,l,u=this._events[a],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,i),!0;case 5:return u.fn.call(u.context,e,n,i,s),!0;case 6:return u.fn.call(u.context,e,n,i,s,o),!0}for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),f){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,n);break;case 4:u[l].fn.call(u[l].context,e,n,i);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==e||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}(Ar);var zr=le(Ar.exports);function $r(){return new zr}var Mr=/\s/;var Cr=/^\s+/;function Rr(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Mr.test(t.charAt(e)););return e}(t)+1).replace(Cr,""):t}var Ir=/^[-+]0x[0-9a-f]+$/i,Tr=/^0b[01]+$/i,Lr=/^0o[0-7]+$/i,Fr=parseInt;function Nr(t){if("number"==typeof t)return t;if(E(t))return NaN;if(P(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=P(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Rr(t);var r=Tr.test(t);return r||Lr.test(t)?Fr(t.slice(2),r?2:8):Ir.test(t)?NaN:+t}var Wr=1/0;function Hr(t){return t?(t=Nr(t))===Wr||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Ur(t){var e=Hr(t),r=e%1;return e==e?r?e-r:e:0}function Br(t,e,r){var n=null==t?0:t.length;return n?function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}(t,(e=r||void 0===e?1:Ur(e))<0?0:e,n):[]}function Yr(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function qr(t,e){var r;return(h(t)?Yr:Ve)(t,"function"==typeof(r=e)?r:br)}function Vr(){let t,e,r=new Promise(function(){t=arguments[0],e=arguments[1]});return r.resolve=t,r.reject=e,r}function Gr(t,e){let r=Vr();if(!Er(t)&&!ne(t))return r.reject("rs is not an array or object"),r;let n=!1;if(ne(t)){n=!0;let e=[];qr(t,(t,r)=>{e.push({k:r,v:t})}),t=e}oe(e)||(e=function(t){return t});let i=-1,s=[];return t.reduce(function(t,r){return t.then(function(t){s.push(t),i+=1;let o=i,a=r;return n&&(o=r.k,a=r.v),oe(e)?e(a,o):a})},Promise.resolve()).then(function(t){s.push(t),s=Br(s),r.resolve(s)}).catch(function(t){r.reject(t)}),r}function Kr(t,e={}){let r=yt(e,"fs");if(!r.existsSync(t))return!1;let n=r.lstatSync(t);return!n.isFile()&&!n.isSymbolicLink()}function Jr(e){return Kr(e,{fs:t})}function Zr(t,e={}){let r=yt(e,"fs");if(Kr(t,{fs:r}))return{success:"input folder is already exists: "+t};if(r.existsSync(t))return{error:"input path already exists: "+t};try{r.mkdirSync(t,{recursive:!0})}catch(t){return{error:t}}return{success:"done: "+t}}function Qr(r){return function(t,e={}){let r=yt(e,"path"),n=yt(e,"fs");if(!n.existsSync(t)){let e=Zr(t,{fs:n});return e.error?e.error:{success:"done: "+t}}if(!Kr(t,{fs:n}))return{error:"input path is not a folder"};try{let e=n.readdirSync(t);for(let i of e){let e=r.join(t,i);n.statSync(e).isDirectory()?n.rmSync(e,{recursive:!0,force:!0}):n.unlinkSync(e)}}catch(t){return{error:t}}return{success:"done: "+t}}(r,{path:e,fs:t})}function Xr(e){return Zr(e,{fs:t})}function tn(t,e,r={}){let n=yt(r,"path"),i=yt(r,"fs");if(!Kr(t,{fs:i}))return{error:`fpSrc[${t}] is not a folder`};try{i.readdirSync(t).forEach(function(r){let s=n.resolve(t,r),o=n.resolve(e,r),a=i.lstatSync(s);if(a.isDirectory())Zr(o,{fs:i}),tn(s,o,{path:n,fs:i});else if(a.isSymbolicLink()){let t=i.readlinkSync(s);i.symlinkSync(t,o)}else Zr(n.dirname(o),{fs:i}),i.copyFileSync(s,o)})}catch(t){return{error:t}}return{success:"done: "+e}}function en(t,e,r={}){let n=yt(r,"path"),i=yt(r,"fs"),s=yt(r,"useSync","");Dr(s)||(s=!0);let o="";return o=s?tn(t,e,{path:n,fs:i}):async function(t,e,r={}){let n=yt(r,"path"),i=yt(r,"fs");if(!Kr(t,{fs:i}))return{error:`fpSrc[${t}] is not a folder`};let s=async(t,e)=>{let r=i.readdirSync(t);for(let o of r){let r=n.join(t,o),a=n.join(e,o),c=i.lstatSync(r);if(c.isDirectory())Zr(a,{fs:i}),await s(r,a);else if(c.isSymbolicLink()){let t=i.readlinkSync(r);i.symlinkSync(t,a)}else Zr(n.dirname(a),{fs:i}),await new Promise((t,e)=>{let n=i.createReadStream(r),s=i.createWriteStream(a);n.on("error",e),s.on("error",e),s.on("finish",t),n.pipe(s)})}},o=null;return await s(t,e).then(()=>{o={success:"done: "+e}}).catch(t=>{o={error:t}}),o}(t,e,{path:n,fs:i}),o}function rn(t,e=!1){if(function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t))return"";let r="";try{r=e?JSON.stringify(t,null,2):JSON.stringify(t)}catch(t){r=""}return r}function nn(t){if(!xr(t))return 0;return Hr(t)}function sn(t){return!!xr(t)&&(t=nn(t),"number"==typeof(e=t)&&e==Ur(e));var e}var on=v.isFinite,an=Math.min;var cn=function(t){var e=Math[t];return function(t,r){if(t=Nr(t),(r=null==r?0:an(Ur(r),292))&&on(t)){var n=(ht(t)+"e").split("e");return+((n=(ht(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}("round"),ln=cn;function un(t){if(!xr(t))return 0;t=nn(t);let e=ln(t);return"0"===String(e)?0:e}function fn(t){if(!sn(t))return!1;return un(t)>0}function hn(t=300){return new function(t){let e=[],r=null,n=null;return fn(t)||(t=300),t=un(t),function(i,...s){oe(i)?(n=Date.now(),e.push({func:i,input:s}),null===r&&(r=setInterval(()=>{if(Date.now()-n>t){let t=e.pop();e=[],t.func(...t.input)}0===e.length&&(clearInterval(r),r=null)},10))):console.log("func is not a function")}}(t)}const dn="files",pn="directories",vn="files_directories",yn="all",mn={root:".",fileFilter:t=>!0,directoryFilter:t=>!0,type:dn,lstat:!1,depth:2147483648,alwaysStat:!1,highWaterMark:4096};Object.freeze(mn);const gn="READDIRP_RECURSIVE_ERROR",_n=new Set(["ENOENT","EPERM","EACCES","ELOOP",gn]),wn=[pn,yn,vn,dn],bn=new Set([pn,yn,vn]),jn=new Set([yn,vn,dn]),On="win32"===process.platform,Sn=t=>!0,En=t=>{if(void 0===t)return Sn;if("function"==typeof t)return t;if("string"==typeof t){const e=t.trim();return t=>t.basename===e}if(Array.isArray(t)){const e=t.map(t=>t.trim());return t=>e.some(e=>t.basename===e)}return Sn};class Dn extends s.Readable{constructor(t={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:t.highWaterMark});const e={...mn,...t},{root:r,type:n}=e;this._fileFilter=En(e.fileFilter),this._directoryFilter=En(e.directoryFilter);const s=e.lstat?i.lstat:i.stat;this._stat=On?t=>s(t,{bigint:!0}):s,this._maxDepth=e.depth??mn.depth,this._wantsDir=!!n&&bn.has(n),this._wantsFile=!!n&&jn.has(n),this._wantsEverything=n===yn,this._root=o.resolve(r),this._isDirent=!e.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(t){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&t>0;){const e=this.parent,r=e&&e.files;if(r&&r.length>0){const{path:n,depth:i}=e,s=r.splice(0,t).map(t=>this._formatEntry(t,n)),o=await Promise.all(s);for(const e of o){if(!e)continue;if(this.destroyed)return;const r=await this._getEntryType(e);"directory"===r&&this._directoryFilter(e)?(i<=this._maxDepth&&this.parents.push(this._exploreDir(e.fullPath,i+1)),this._wantsDir&&(this.push(e),t--)):("file"===r||this._includeAsFile(e))&&this._fileFilter(e)&&this._wantsFile&&(this.push(e),t--)}}else{const t=this.parents.pop();if(!t){this.push(null);break}if(this.parent=await t,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(t,e){let r;try{r=await i.readdir(t,this._rdOptions)}catch(t){this._onError(t)}return{files:r,depth:e,path:t}}async _formatEntry(t,e){let r;const n=this._isDirent?t.name:t;try{const i=o.resolve(o.join(e,n));r={path:o.relative(this._root,i),fullPath:i,basename:n},r[this._statsProp]=this._isDirent?t:await this._stat(i)}catch(t){return void this._onError(t)}return r}_onError(t){var e;e=t,_n.has(e.code)&&!this.destroyed?this.emit("warn",t):this.destroy(t)}async _getEntryType(t){if(!t&&this._statsProp in t)return"";const e=t[this._statsProp];if(e.isFile())return"file";if(e.isDirectory())return"directory";if(e&&e.isSymbolicLink()){const e=t.fullPath;try{const t=await i.realpath(e),r=await i.lstat(t);if(r.isFile())return"file";if(r.isDirectory()){const r=t.length;if(e.startsWith(t)&&e.substr(r,1)===o.sep){const r=new Error(`Circular symlink detected: "${e}" points to "${t}"`);return r.code=gn,this._onError(r)}return"directory"}}catch(t){return this._onError(t),""}}}_includeAsFile(t){const e=t&&t[this._statsProp];return e&&this._wantsEverything&&!e.isDirectory()}}const xn=()=>{},kn=process.platform,Pn="win32"===kn,An="darwin"===kn,zn="linux"===kn,$n="freebsd"===kn,Mn="OS400"===a.type(),Cn={ALL:"all",READY:"ready",ADD:"add",CHANGE:"change",ADD_DIR:"addDir",UNLINK:"unlink",UNLINK_DIR:"unlinkDir",RAW:"raw",ERROR:"error"},Rn=Cn,In={lstat:n.lstat,stat:n.stat},Tn="listeners",Ln="errHandlers",Fn="rawEmitters",Nn=[Tn,Ln,Fn],Wn=new Set(["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]),Hn=(t,e)=>{t instanceof Set?t.forEach(e):e(t)},Un=(t,e,r)=>{let n=t[e];n instanceof Set||(t[e]=n=new Set([n])),n.add(r)},Bn=(t,e,r)=>{const n=t[e];n instanceof Set?n.delete(r):n===r&&delete t[e]},Yn=t=>t instanceof Set?0===t.size:!t,qn=new Map;function Vn(e,r,n,i,s){const o=(t,r)=>{n(e),s(t,r,{watchedPath:e}),r&&e!==r&&Gn(f.resolve(e,r),Tn,f.join(e,r))};try{return t.watch(e,{persistent:r.persistent},o)}catch(t){return void i(t)}}const Gn=(t,e,r,n,i)=>{const s=qn.get(t);s&&Hn(s[e],t=>{t(r,n,i)})},Kn=(t,e,r,i)=>{const{listener:s,errHandler:o,rawEmitter:a}=i;let c,l=qn.get(e);if(!r.persistent){if(c=Vn(t,r,s,o,a),!c)return;return c.close.bind(c)}if(l)Un(l,Tn,s),Un(l,Ln,o),Un(l,Fn,a);else{if(c=Vn(t,r,Gn.bind(null,e,Tn),o,Gn.bind(null,e,Fn)),!c)return;c.on(Rn.ERROR,async r=>{const i=Gn.bind(null,e,Ln);if(l&&(l.watcherUnusable=!0),Pn&&"EPERM"===r.code)try{const e=await n.open(t,"r");await e.close(),i(r)}catch(t){}else i(r)}),l={listeners:s,errHandlers:o,rawEmitters:a,watcher:c},qn.set(e,l)}return()=>{Bn(l,Tn,s),Bn(l,Ln,o),Bn(l,Fn,a),Yn(l.listeners)&&(l.watcher.close(),qn.delete(e),Nn.forEach((t=>e=>{const r=t[e];r instanceof Set?r.clear():delete t[e]})(l)),l.watcher=void 0,Object.freeze(l))}},Jn=new Map;class Zn{constructor(t){this.fsw=t,this._boundHandleError=e=>t._handleError(e)}_watchWithNodeFs(e,r){const n=this.fsw.options,i=f.dirname(e),s=f.basename(e);this.fsw._getWatchedDir(i).add(s);const o=f.resolve(e),a={persistent:n.persistent};let c;if(r||(r=xn),n.usePolling){const i=n.interval!==n.binaryInterval;a.interval=i&&(l=s,Wn.has(f.extname(l).slice(1).toLowerCase()))?n.binaryInterval:n.interval,c=((e,r,n,i)=>{const{listener:s,rawEmitter:o}=i;let a=Jn.get(r);const c=a&&a.options;return c&&(c.persistent<n.persistent||c.interval>n.interval)&&(t.unwatchFile(r),a=void 0),a?(Un(a,Tn,s),Un(a,Fn,o)):(a={listeners:s,rawEmitters:o,options:n,watcher:t.watchFile(r,n,(t,n)=>{Hn(a.rawEmitters,e=>{e(Rn.CHANGE,r,{curr:t,prev:n})});const i=t.mtimeMs;(t.size!==n.size||i>n.mtimeMs||0===i)&&Hn(a.listeners,r=>r(e,t))})},Jn.set(r,a)),()=>{Bn(a,Tn,s),Bn(a,Fn,o),Yn(a.listeners)&&(Jn.delete(r),t.unwatchFile(r),a.options=a.watcher=void 0,Object.freeze(a))}})(e,o,a,{listener:r,rawEmitter:this.fsw._emitRaw})}else c=Kn(e,o,a,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw});var l;return c}_handleFile(t,e,r){if(this.fsw.closed)return;const i=f.dirname(t),s=f.basename(t),o=this.fsw._getWatchedDir(i);let a=e;if(o.has(s))return;const c=async(e,r)=>{if(this.fsw._throttle("watch",t,5))if(r&&0!==r.mtimeMs){if(o.has(s)){const e=r.atimeMs,n=r.mtimeMs;(!e||e<=n||n!==a.mtimeMs)&&this.fsw._emit(Rn.CHANGE,t,r),a=r}}else try{const r=await n.stat(t);if(this.fsw.closed)return;const i=r.atimeMs,s=r.mtimeMs;if((!i||i<=s||s!==a.mtimeMs)&&this.fsw._emit(Rn.CHANGE,t,r),(An||zn||$n)&&a.ino!==r.ino){this.fsw._closeFile(e),a=r;const n=this._watchWithNodeFs(t,c);n&&this.fsw._addPathCloser(e,n)}else a=r}catch(t){this.fsw._remove(i,s)}},l=this._watchWithNodeFs(t,c);if((!r||!this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle(Rn.ADD,t,0))return;this.fsw._emit(Rn.ADD,t,e)}return l}async _handleSymlink(t,e,r,i){if(this.fsw.closed)return;const s=t.fullPath,o=this.fsw._getWatchedDir(e);if(!this.fsw.options.followSymlinks){let e;this.fsw._incrReadyCount();try{e=await n.realpath(r)}catch(t){return this.fsw._emitReady(),!0}if(this.fsw.closed)return;return o.has(i)?this.fsw._symlinkPaths.get(s)!==e&&(this.fsw._symlinkPaths.set(s,e),this.fsw._emit(Rn.CHANGE,r,t.stats)):(o.add(i),this.fsw._symlinkPaths.set(s,e),this.fsw._emit(Rn.ADD,r,t.stats)),this.fsw._emitReady(),!0}if(this.fsw._symlinkPaths.has(s))return!0;this.fsw._symlinkPaths.set(s,!0)}_handleRead(t,e,r,n,i,s,o){if(t=f.join(t,""),!(o=this.fsw._throttle("readdir",t,1e3)))return;const a=this.fsw._getWatchedDir(r.path),c=new Set;let l=this.fsw._readdirp(t,{fileFilter:t=>r.filterPath(t),directoryFilter:t=>r.filterDir(t)});return l?(l.on("data",async o=>{if(this.fsw.closed)return void(l=void 0);const u=o.path;let h=f.join(t,u);c.add(u),o.stats.isSymbolicLink()&&await this._handleSymlink(o,t,h,u)||(this.fsw.closed?l=void 0:u!==n&&(n||a.has(u))||(this.fsw._incrReadyCount(),h=f.join(i,f.relative(i,h)),this._addToNodeFs(h,e,r,s+1)))}).on(Rn.ERROR,this._boundHandleError),new Promise((e,u)=>{if(!l)return u();l.once("end",()=>{if(this.fsw.closed)return void(l=void 0);const u=!!o&&o.clear();e(void 0),a.getChildren().filter(e=>e!==t&&!c.has(e)).forEach(e=>{this.fsw._remove(t,e)}),l=void 0,u&&this._handleRead(t,!1,r,n,i,s,o)})})):void 0}async _handleDir(t,e,r,n,i,s,o){const a=this.fsw._getWatchedDir(f.dirname(t)),c=a.has(f.basename(t));let l,u;r&&this.fsw.options.ignoreInitial||i||c||this.fsw._emit(Rn.ADD_DIR,t,e),a.add(f.basename(t)),this.fsw._getWatchedDir(t);const h=this.fsw.options.depth;if((null==h||n<=h)&&!this.fsw._symlinkPaths.has(o)){if(!i&&(await this._handleRead(t,r,s,i,t,n,l),this.fsw.closed))return;u=this._watchWithNodeFs(t,(e,r)=>{r&&0===r.mtimeMs||this._handleRead(e,!1,s,i,t,n,l)})}return u}async _addToNodeFs(t,e,r,i,s){const o=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return o(),!1;const a=this.fsw._getWatchHelpers(t);r&&(a.filterPath=t=>r.filterPath(t),a.filterDir=t=>r.filterDir(t));try{const r=await In[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,r))return o(),!1;const c=this.fsw.options.followSymlinks;let l;if(r.isDirectory()){const o=f.resolve(t),u=c?await n.realpath(t):t;if(this.fsw.closed)return;if(l=await this._handleDir(a.watchPath,r,e,i,s,a,u),this.fsw.closed)return;o!==u&&void 0!==u&&this.fsw._symlinkPaths.set(o,u)}else if(r.isSymbolicLink()){const s=c?await n.realpath(t):t;if(this.fsw.closed)return;const o=f.dirname(a.watchPath);if(this.fsw._getWatchedDir(o).add(a.watchPath),this.fsw._emit(Rn.ADD,a.watchPath,r),l=await this._handleDir(o,r,e,i,t,a,s),this.fsw.closed)return;void 0!==s&&this.fsw._symlinkPaths.set(f.resolve(t),s)}else l=this._handleFile(a.watchPath,r,e);return o(),l&&this.fsw._addPathCloser(t,l),!1}catch(e){if(this.fsw._handleError(e))return o(),t}}}
/*! chokidar - MIT License (c) 2012 Paul Miller (paulmillr.com) */const Qn=/\\/g,Xn=/\/\//,ti=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,ei=/^\.[/\\]/;function ri(t){return Array.isArray(t)?t:[t]}const ni=t=>"object"==typeof t&&null!==t&&!(t instanceof RegExp);function ii(t,e,r){const n=function(t){if("string"!=typeof t)throw new Error("string expected");let e=!1;(t=(t=f.normalize(t)).replace(/\\/g,"/")).startsWith("//")&&(e=!0);const r=/\/\//;for(;t.match(r);)t=t.replace(r,"/");return e&&(t="/"+t),t}(e);for(let e=0;e<t.length;e++){if((0,t[e])(n,r))return!0}return!1}function si(t,e){if(null==t)throw new TypeError("anymatch: specify first argument");const r=ri(t).map(t=>function(t){return"function"==typeof t?t:"string"==typeof t?e=>t===e:t instanceof RegExp?e=>t.test(e):"object"==typeof t&&null!==t?e=>{if(t.path===e)return!0;if(t.recursive){const r=f.relative(t.path,e);return!!r&&!r.startsWith("..")&&!f.isAbsolute(r)}return!1}:()=>!1}(t));return null==e?(t,e)=>ii(r,t,e):ii(r,e)}const oi=t=>{const e=ri(t).flat();if(!e.every(t=>"string"==typeof t))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(ci)},ai=t=>{let e=t.replace(Qn,"/"),r=!1;for(e.startsWith("//")&&(r=!0);e.match(Xn);)e=e.replace(Xn,"/");return r&&(e="/"+e),e},ci=t=>ai(f.normalize(ai(t))),li=(t="")=>e=>"string"==typeof e?ci(f.isAbsolute(e)?e:f.join(t,e)):e,ui=Object.freeze(new Set);class fi{constructor(t,e){this.path=t,this._removeWatcher=e,this.items=new Set}add(t){const{items:e}=this;e&&"."!==t&&".."!==t&&e.add(t)}async remove(t){const{items:e}=this;if(!e)return;if(e.delete(t),e.size>0)return;const r=this.path;try{await n.readdir(r)}catch(t){this._removeWatcher&&this._removeWatcher(f.dirname(r),f.basename(r))}}has(t){const{items:e}=this;if(e)return e.has(t)}getChildren(){const{items:t}=this;return t?[...t.values()]:[]}dispose(){this.items.clear(),this.path="",this._removeWatcher=xn,this.items=ui,Object.freeze(this)}}class hi{constructor(t,e,r){this.fsw=r;const n=t;this.path=t=t.replace(ei,""),this.watchPath=n,this.fullWatchPath=f.resolve(n),this.dirParts=[],this.dirParts.forEach(t=>{t.length>1&&t.pop()}),this.followSymlinks=e,this.statMethod=e?"stat":"lstat"}entryPath(t){return f.join(this.watchPath,f.relative(this.watchPath,t.fullPath))}filterPath(t){const{stats:e}=t;if(e&&e.isSymbolicLink())return this.filterDir(t);const r=this.entryPath(t);return this.fsw._isntIgnored(r,e)&&this.fsw._hasReadPermissions(e)}filterDir(t){return this.fsw._isntIgnored(this.entryPath(t),t.stats)}}class di extends r.EventEmitter{constructor(t={}){super(),this.closed=!1,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._streams=new Set,this._symlinkPaths=new Map,this._watched=new Map,this._pendingWrites=new Map,this._pendingUnlinks=new Map,this._readyCount=0,this._readyEmitted=!1;const e=t.awaitWriteFinish,r={stabilityThreshold:2e3,pollInterval:100},n={persistent:!0,ignoreInitial:!1,ignorePermissionErrors:!1,interval:100,binaryInterval:300,followSymlinks:!0,usePolling:!1,atomic:!0,...t,ignored:t.ignored?ri(t.ignored):ri([]),awaitWriteFinish:!0===e?r:"object"==typeof e&&{...r,...e}};Mn&&(n.usePolling=!0),void 0===n.atomic&&(n.atomic=!n.usePolling);const i=process.env.CHOKIDAR_USEPOLLING;if(void 0!==i){const t=i.toLowerCase();n.usePolling="false"!==t&&"0"!==t&&("true"===t||"1"===t||!!t)}const s=process.env.CHOKIDAR_INTERVAL;s&&(n.interval=Number.parseInt(s,10));let o=0;this._emitReady=()=>{o++,o>=this._readyCount&&(this._emitReady=xn,this._readyEmitted=!0,process.nextTick(()=>this.emit(Cn.READY)))},this._emitRaw=(...t)=>this.emit(Cn.RAW,...t),this._boundRemove=this._remove.bind(this),this.options=n,this._nodeFsHandler=new Zn(this),Object.freeze(n)}_addIgnoredPath(t){if(ni(t))for(const e of this._ignoredPaths)if(ni(e)&&e.path===t.path&&e.recursive===t.recursive)return;this._ignoredPaths.add(t)}_removeIgnoredPath(t){if(this._ignoredPaths.delete(t),"string"==typeof t)for(const e of this._ignoredPaths)ni(e)&&e.path===t&&this._ignoredPaths.delete(e)}add(t,e,r){const{cwd:n}=this.options;this.closed=!1,this._closePromise=void 0;let i=oi(t);return n&&(i=i.map(t=>{const e=((t,e)=>f.isAbsolute(t)?t:f.join(e,t))(t,n);return e})),i.forEach(t=>{this._removeIgnoredPath(t)}),this._userIgnored=void 0,this._readyCount||(this._readyCount=0),this._readyCount+=i.length,Promise.all(i.map(async t=>{const n=await this._nodeFsHandler._addToNodeFs(t,!r,void 0,0,e);return n&&this._emitReady(),n})).then(t=>{this.closed||t.forEach(t=>{t&&this.add(f.dirname(t),f.basename(e||t))})}),this}unwatch(t){if(this.closed)return this;const e=oi(t),{cwd:r}=this.options;return e.forEach(t=>{f.isAbsolute(t)||this._closers.has(t)||(r&&(t=f.join(r,t)),t=f.resolve(t)),this._closePath(t),this._addIgnoredPath(t),this._watched.has(t)&&this._addIgnoredPath({path:t,recursive:!0}),this._userIgnored=void 0}),this}close(){if(this._closePromise)return this._closePromise;this.closed=!0,this.removeAllListeners();const t=[];return this._closers.forEach(e=>e.forEach(e=>{const r=e();r instanceof Promise&&t.push(r)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),this._closers.clear(),this._watched.clear(),this._streams.clear(),this._symlinkPaths.clear(),this._throttled.clear(),this._closePromise=t.length?Promise.all(t).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const t={};return this._watched.forEach((e,r)=>{const n=this.options.cwd?f.relative(this.options.cwd,r):r;t[n||"."]=e.getChildren().sort()}),t}emitWithAll(t,e){this.emit(t,...e),t!==Cn.ERROR&&this.emit(Cn.ALL,t,...e)}async _emit(t,e,r){if(this.closed)return;const i=this.options;Pn&&(e=f.normalize(e)),i.cwd&&(e=f.relative(i.cwd,e));const s=[e];null!=r&&s.push(r);const o=i.awaitWriteFinish;let a;if(o&&(a=this._pendingWrites.get(e)))return a.lastChange=new Date,this;if(i.atomic){if(t===Cn.UNLINK)return this._pendingUnlinks.set(e,[t,...s]),setTimeout(()=>{this._pendingUnlinks.forEach((t,e)=>{this.emit(...t),this.emit(Cn.ALL,...t),this._pendingUnlinks.delete(e)})},"number"==typeof i.atomic?i.atomic:100),this;t===Cn.ADD&&this._pendingUnlinks.has(e)&&(t=Cn.CHANGE,this._pendingUnlinks.delete(e))}if(o&&(t===Cn.ADD||t===Cn.CHANGE)&&this._readyEmitted){const r=(e,r)=>{e?(t=Cn.ERROR,s[0]=e,this.emitWithAll(t,s)):r&&(s.length>1?s[1]=r:s.push(r),this.emitWithAll(t,s))};return this._awaitWriteFinish(e,o.stabilityThreshold,t,r),this}if(t===Cn.CHANGE){if(!this._throttle(Cn.CHANGE,e,50))return this}if(i.alwaysStat&&void 0===r&&(t===Cn.ADD||t===Cn.ADD_DIR||t===Cn.CHANGE)){const t=i.cwd?f.join(i.cwd,e):e;let r;try{r=await n.stat(t)}catch(t){}if(!r||this.closed)return;s.push(r)}return this.emitWithAll(t,s),this}_handleError(t){const e=t&&t.code;return t&&"ENOENT"!==e&&"ENOTDIR"!==e&&(!this.options.ignorePermissionErrors||"EPERM"!==e&&"EACCES"!==e)&&this.emit(Cn.ERROR,t),t||this.closed}_throttle(t,e,r){this._throttled.has(t)||this._throttled.set(t,new Map);const n=this._throttled.get(t);if(!n)throw new Error("invalid throttle");const i=n.get(e);if(i)return i.count++,!1;let s;const o=()=>{const t=n.get(e),r=t?t.count:0;return n.delete(e),clearTimeout(s),t&&clearTimeout(t.timeoutObject),r};s=setTimeout(o,r);const a={timeoutObject:s,clear:o,count:0};return n.set(e,a),a}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,r,n,i){const s=this.options.awaitWriteFinish;if("object"!=typeof s)return;const o=s.pollInterval;let a,c=e;this.options.cwd&&!f.isAbsolute(e)&&(c=f.join(this.options.cwd,e));const l=new Date,u=this._pendingWrites;u.has(e)||(u.set(e,{lastChange:l,cancelWait:()=>(u.delete(e),clearTimeout(a),n)}),a=setTimeout(function n(s){t.stat(c,(t,c)=>{if(t||!u.has(e))return void(t&&"ENOENT"!==t.code&&i(t));const l=Number(new Date);s&&c.size!==s.size&&(u.get(e).lastChange=l),l-u.get(e).lastChange>=r?(u.delete(e),i(void 0,c)):a=setTimeout(n,o,c)})},o))}_isIgnored(t,e){if(this.options.atomic&&ti.test(t))return!0;if(!this._userIgnored){const{cwd:t}=this.options,e=(this.options.ignored||[]).map(li(t)),r=[...[...this._ignoredPaths].map(li(t)),...e];this._userIgnored=si(r,void 0)}return this._userIgnored(t,e)}_isntIgnored(t,e){return!this._isIgnored(t,e)}_getWatchHelpers(t){return new hi(t,this.options.followSymlinks,this)}_getWatchedDir(t){const e=f.resolve(t);return this._watched.has(e)||this._watched.set(e,new fi(e,this._boundRemove)),this._watched.get(e)}_hasReadPermissions(t){return!!this.options.ignorePermissionErrors||Boolean(256&Number(t.mode))}_remove(t,e,r){const n=f.join(t,e),i=f.resolve(n);if(r=null!=r?r:this._watched.has(n)||this._watched.has(i),!this._throttle("remove",n,100))return;r||1!==this._watched.size||this.add(t,e,!0);this._getWatchedDir(n).getChildren().forEach(t=>this._remove(n,t));const s=this._getWatchedDir(t),o=s.has(e);s.remove(e),this._symlinkPaths.has(i)&&this._symlinkPaths.delete(i);let a=n;if(this.options.cwd&&(a=f.relative(this.options.cwd,n)),this.options.awaitWriteFinish&&this._pendingWrites.has(a)){if(this._pendingWrites.get(a).cancelWait()===Cn.ADD)return}this._watched.delete(n),this._watched.delete(i);const c=r?Cn.UNLINK_DIR:Cn.UNLINK;o&&!this._isIgnored(n)&&this._emit(c,n),this._closePath(n)}_closePath(t){this._closeFile(t);const e=f.dirname(t);this._getWatchedDir(e).remove(f.basename(t))}_closeFile(t){const e=this._closers.get(t);e&&(e.forEach(t=>t()),this._closers.delete(t))}_addPathCloser(t,e){if(!e)return;let r=this._closers.get(t);r||(r=[],this._closers.set(t,r)),r.push(e)}_readdirp(t,e){if(this.closed)return;let r=function(t,e={}){let r=e.entryType||e.type;if("both"===r&&(r=vn),r&&(e.type=r),!t)throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");if("string"!=typeof t)throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!wn.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${wn.join(", ")}`);return e.root=t,new Dn(e)}(t,{type:Cn.ALL,alwaysStat:!0,lstat:!0,...e,depth:0});return this._streams.add(r),r.once("close",()=>{r=void 0}),r.once("end",()=>{r&&(this._streams.delete(r),r=void 0)}),r}}var pi={watch:function(t,e={}){const r=new di(e);return r.add(t),r},FSWatcher:di};function vi(e){return function(t,e={}){let r=yt(e,"fs");return!!r.existsSync(t)&&!r.lstatSync(t).isDirectory()&&!r.lstatSync(t).isSymbolicLink()}(e,{fs:t})}function yi(t,n={}){let i=yt(n,"polling");Dr(i)||(i=!1);let s=yt(n,"timeInterval");fn(s)||(s=100),s=un(s);let o=yt(n,"timeBinaryInterval");fn(o)||(o=300),o=un(o);let a=new r.EventEmitter,c=t,l=null,u=setInterval(()=>{null===l&&vi(c)&&(l=pi.watch(c,{usePolling:i,interval:s,binaryInterval:o,awaitWriteFinish:!0}),l.on("all",(t,r,n)=>{r=e.resolve(r),a.emit("change",{type:t,fp:r,stats:n})}))},s);return a.clear=()=>{(()=>{if(null!==l){try{l.unwatch(c)}catch(t){console.log(t)}l.close().catch(t=>{console.log(t)}).finally(()=>{l=null})}})(),clearInterval(u)},a}function mi(e,r,n={}){Jr(e)||Xr(e),Jr(r)||Xr(r);let i=`${e}/fpHash.json`,s=`${r}/fpHash.json`,o=e=>{let r={};try{r=function(t){if(!se(t))return{};let e={};try{e=JSON.parse(t)}catch(t){e={}}return e}(t.readFileSync(e,"utf8"))}catch(t){}return r},a=(e,r)=>{try{let n=rn(r);t.writeFileSync(e,n,"utf8")}catch(t){}},c=(t,e)=>yt(o(t),e,""),l=(t,e,r)=>{let n=o(t);n[e]=r,a(t,n)},u=(t,e)=>{let r=o(t);kr(r,e)&&delete r[e],a(t,r)},f=()=>o(i),h=t=>a(i,t),d=t=>c(i,t),p=()=>o(s),v=t=>a(s,t),y=t=>c(s,t),m=(t,e)=>l(s,t,e),g=t=>u(s,t),_=t=>{let e=[];return qr(t,(t,r)=>{e.push({fp:r,hash:t})}),e};return{buildSrc:()=>{let t=$r();return t.set=(e,r)=>{((t,e)=>{l(i,t,e)})(e,r),t.emit("set",{type:"set",fp:e,hash:r})},t.get=d,t.remove=e=>{(t=>{u(i,t)})(e),t.emit("remove",{type:"remove",fp:e})},t.readKp=f,t.writeKp=h,t},buildTar:()=>{let t=$r(),e=hn(300),r=yi(i);return r.on("change",r=>{e(()=>{(async()=>{let e=Vr(),r=f();if(!ie(r))return e.resolve("no src"),e;let n=p(),i=_(r),s=Pr(_(n),i,"fp",{withInfor:!1}),o=Vr();return o.then(t=>{v(r)}).catch(()=>{}),t.emit("change",{kpSrc:r,kpTar:n,kpCmp:s,pm:o}),e})().catch(()=>{})})}),t.set=m,t.get=y,t.remove=g,t.readKp=p,t.writeKp=v,t.clear=r.clear,t}}}var gi={exports:{}};!function(t){t.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",a="day",c="week",l="month",u="quarter",f="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},m=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},g={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,l),s=r-i<0,o=e.clone().add(n+(s?-1:1),l);return+(-(n+(r-i)/(s?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:f,w:c,d:a,D:h,h:o,m:s,s:i,ms:n,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},_="en",w={};w[_]=y;var b="$isDayjsObject",j=function(t){return t instanceof D||!(!t||!t[b])},O=function t(e,r,n){var i;if(!e)return _;if("string"==typeof e){var s=e.toLowerCase();w[s]&&(i=s),r&&(w[s]=r,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=e.name;w[a]=e,i=a}return!n&&i&&(_=i),i||!n&&_},S=function(t,e){if(j(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new D(r)},E=g;E.l=O,E.i=j,E.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var D=function(){function y(t){this.$L=O(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[b]=!0}var m=y.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(E.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var r=S(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return S(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<S(t)},m.$g=function(t,e,r){return E.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var r=this,n=!!E.u(e)||e,u=E.p(t),d=function(t,e){var i=E.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?i:i.endOf(a)},p=function(t,e){return E.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},v=this.$W,y=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case f:return n?d(1,0):d(31,11);case l:return n?d(1,y):d(0,y+1);case c:var _=this.$locale().weekStart||0,w=(v<_?v+7:v)-_;return d(n?m-w:m+(6-w),y);case a:case h:return p(g+"Hours",0);case o:return p(g+"Minutes",1);case s:return p(g+"Seconds",2);case i:return p(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,c=E.p(t),u="set"+(this.$u?"UTC":""),d=(r={},r[a]=u+"Date",r[h]=u+"Date",r[l]=u+"Month",r[f]=u+"FullYear",r[o]=u+"Hours",r[s]=u+"Minutes",r[i]=u+"Seconds",r[n]=u+"Milliseconds",r)[c],p=c===a?this.$D+(e-this.$W):e;if(c===l||c===f){var v=this.clone().set(h,1);v.$d[d](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[E.p(t)]()},m.add=function(n,u){var h,d=this;n=Number(n);var p=E.p(u),v=function(t){var e=S(d);return E.w(e.date(e.date()+Math.round(t*n)),d)};if(p===l)return this.set(l,this.$M+n);if(p===f)return this.set(f,this.$y+n);if(p===a)return v(1);if(p===c)return v(7);var y=(h={},h[s]=e,h[o]=r,h[i]=t,h)[p]||1,m=this.$d.getTime()+n*y;return E.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),s=this.$H,o=this.$m,a=this.$M,c=r.weekdays,l=r.months,u=r.meridiem,f=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].slice(0,s)},h=function(t){return E.s(s%12||12,t,"0")},p=u||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(v,function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return E.s(e.$y,4,"0");case"M":return a+1;case"MM":return E.s(a+1,2,"0");case"MMM":return f(r.monthsShort,a,l,3);case"MMMM":return f(l,a);case"D":return e.$D;case"DD":return E.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return f(r.weekdaysMin,e.$W,c,2);case"ddd":return f(r.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(s);case"HH":return E.s(s,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(s,o,!0);case"A":return p(s,o,!1);case"m":return String(o);case"mm":return E.s(o,2,"0");case"s":return String(e.$s);case"ss":return E.s(e.$s,2,"0");case"SSS":return E.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,h,d){var p,v=this,y=E.p(h),m=S(n),g=(m.utcOffset()-this.utcOffset())*e,_=this-m,w=function(){return E.m(v,m)};switch(y){case f:p=w()/12;break;case l:p=w();break;case u:p=w()/3;break;case c:p=(_-g)/6048e5;break;case a:p=(_-g)/864e5;break;case o:p=_/r;break;case s:p=_/e;break;case i:p=_/t;break;default:p=_}return d?p:E.a(p)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=O(t,e,!0);return n&&(r.$L=n),r},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},y}(),x=D.prototype;return S.prototype=x,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",a],["$M",l],["$y",f],["$D",h]].forEach(function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),S.extend=function(t,e){return t.$i||(t(e,D,S),t.$i=!0),S},S.locale=O,S.isDayjs=j,S.unix=function(t){return S(1e3*t)},S.en=w[_],S.Ls=w,S.p={},S}()}(gi);var _i=le(gi.exports),wi={exports:{}};function bi(t){try{return JSON.stringify(t)}catch(t){return'"[Circular]"'}}const ji=function(t,e,r){var n=r&&r.stringify||bi;if("object"==typeof t&&null!==t){var i=e.length+1;if(1===i)return t;var s=new Array(i);s[0]=n(t);for(var o=1;o<i;o++)s[o]=n(e[o]);return s.join(" ")}if("string"!=typeof t)return t;var a=e.length;if(0===a)return t;for(var c="",l=0,u=-1,f=t&&t.length||0,h=0;h<f;){if(37===t.charCodeAt(h)&&h+1<f){switch(u=u>-1?u:0,t.charCodeAt(h+1)){case 100:case 102:if(l>=a)break;if(null==e[l])break;u<h&&(c+=t.slice(u,h)),c+=Number(e[l]),u=h+2,h++;break;case 105:if(l>=a)break;if(null==e[l])break;u<h&&(c+=t.slice(u,h)),c+=Math.floor(Number(e[l])),u=h+2,h++;break;case 79:case 111:case 106:if(l>=a)break;if(void 0===e[l])break;u<h&&(c+=t.slice(u,h));var d=typeof e[l];if("string"===d){c+="'"+e[l]+"'",u=h+2,h++;break}if("function"===d){c+=e[l].name||"<anonymous>",u=h+2,h++;break}c+=n(e[l]),u=h+2,h++;break;case 115:if(l>=a)break;u<h&&(c+=t.slice(u,h)),c+=String(e[l]),u=h+2,h++;break;case 37:u<h&&(c+=t.slice(u,h)),c+="%",u=h+2,h++,l--}++l}++h}if(-1===u)return t;u<f&&(c+=t.slice(u));return c};wi.exports=Ai;const Oi=function(){function t(t){return void 0!==t&&t}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},Si={mapHttpRequest:Ii,mapHttpResponse:Ii,wrapRequestSerializer:Ti,wrapResponseSerializer:Ti,wrapErrorSerializer:Ti,req:Ii,res:Ii,err:Ci,errWithCause:Ci};function Ei(t,e){return"silent"===t?1/0:e.levels.values[t]}const Di=Symbol("pino.logFuncs"),xi=Symbol("pino.hierarchy"),ki={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function Pi(t,e){const r={logger:e,parent:t[xi]};e[xi]=r}function Ai(t){(t=t||{}).browser=t.browser||{};const e=t.browser.transmit;if(e&&"function"!=typeof e.send)throw Error("pino: transmit option must have a send function");const r=t.browser.write||Oi;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=function(t,e){if(Array.isArray(t))return t.filter(function(t){return"!stdSerializers.err"!==t});return!0===t&&Object.keys(e)}(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=Object.keys(t.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);"function"==typeof r&&a.forEach(function(t){r[t]=r}),(!1===t.enabled||t.browser.disabled)&&(t.level="silent");const c=t.level||"info",l=Object.create(r);l.log||(l.log=Li),function(t,e,r){const n={};e.forEach(t=>{n[t]=r[t]?r[t]:Oi[t]||Oi[ki[t]||"log"]||Li}),t[Di]=n}(l,a,r),Pi({},l),Object.defineProperty(l,"levelVal",{get:function(){return Ei(this.level,this)}}),Object.defineProperty(l,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,zi(this,u,l,"error"),zi(this,u,l,"fatal"),zi(this,u,l,"warn"),zi(this,u,l,"info"),zi(this,u,l,"debug"),zi(this,u,l,"trace"),o.forEach(t=>{zi(this,u,l,t)})}});const u={transmit:e,serialize:i,asObject:t.browser.asObject,asObjectBindingsOnly:t.browser.asObjectBindingsOnly,formatters:t.browser.formatters,levels:a,timestamp:Ri(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Li};function f(r,s,o){if(!s)throw new Error("missing bindings for child Pino");o=o||{},i&&s.serializers&&(o.serializers=s.serializers);const a=o.serializers;if(i&&a){var c=Object.assign({},n,a),l=!0===t.browser.serialize?Object.keys(c):i;delete s.serializers,$i([s],l,c,this._stdErrSerialize)}function u(t){this._childLevel=1+(0|t._childLevel),this.bindings=s,c&&(this.serializers=c,this._serialize=l),e&&(this._logEvent=Mi([].concat(t._logEvent.bindings,s)))}u.prototype=this;const h=new u(this);return Pi(this,h),h.child=function(...t){return f.call(this,r,...t)},h.level=o.level||this.level,r.onChild(h),h}return l.levels=function(t){const e=t.customLevels||{},r=Object.assign({},Ai.levels.values,e),n=Object.assign({},Ai.levels.labels,function(t){const e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}(e));return{values:r,labels:n}}(t),l.level=c,l.isLevelEnabled=function(t){return!!this.levels.values[t]&&this.levels.values[t]>=this.levels.values[this.level]},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Li,l.serializers=n,l._serialize=i,l._stdErrSerialize=s,l.child=function(...t){return f.call(this,u,...t)},e&&(l._logEvent=Mi()),l}function zi(t,e,r,n){if(Object.defineProperty(t,n,{value:Ei(t.level,r)>Ei(n,r)?Li:r[Di][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===Li){if(!e.transmit)return;const i=Ei(e.transmit.level||t.level,r);if(Ei(n,r)<i)return}t[n]=function(t,e,r,n){return i=t[Di][n],function(){const s=e.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Oi?Oi:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];var l=!1;if(e.serialize&&($i(o,this._serialize,this.serializers,this._stdErrSerialize),l=!0),e.asObject||e.formatters?i.call(a,...function(t,e,r,n,i){const{level:s,log:o=t=>t}=i.formatters||{},a=r.slice();let c=a[0];const l={};let u=1+(0|t._childLevel);if(u<1&&(u=1),n&&(l.time=n),s){const r=s(e,t.levels.values[e]);Object.assign(l,r)}else l.level=t.levels.values[e];if(i.asObjectBindingsOnly){if(null!==c&&"object"==typeof c)for(;u--&&"object"==typeof a[0];)Object.assign(l,a.shift());return[o(l),...a]}if(null!==c&&"object"==typeof c){for(;u--&&"object"==typeof a[0];)Object.assign(l,a.shift());c=a.length?ji(a.shift(),a):void 0}else"string"==typeof c&&(c=ji(a.shift(),a));return void 0!==c&&(l[i.messageKey]=c),[o(l)]}(this,n,o,s,e)):i.apply(a,o),e.transmit){const i=e.transmit.level||t._level,a=Ei(i,r),c=Ei(n,r);if(c<a)return;!function(t,e,r,n=!1){const i=e.send,s=e.ts,o=e.methodLevel,a=e.methodValue,c=e.val,l=t._logEvent.bindings;n||$i(r,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(t){return-1===l.indexOf(t)}),t._logEvent.level.label=o,t._logEvent.level.value=a,i(o,t._logEvent,c),t._logEvent=Mi(l)}(this,{ts:s,methodLevel:n,methodValue:c,transmitLevel:i,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Ei(t._level,r)},o,l)}};var i}(t,e,r,n);const i=function(t){const e=[];t.bindings&&e.push(t.bindings);let r=t[xi];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}(t);0!==i.length&&(t[n]=function(t,e){return function(){return e.apply(this,[...t,...arguments])}}(i,t[n]))}function $i(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=Ai.stdSerializers.err(t[i]);else if("object"==typeof t[i]&&!Array.isArray(t[i])&&e)for(const n in t[i])e.indexOf(n)>-1&&n in r&&(t[i][n]=r[n](t[i][n]))}function Mi(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Ci(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)void 0===e[r]&&(e[r]=t[r]);return e}function Ri(t){return"function"==typeof t.timestamp?t.timestamp:!1===t.timestamp?Fi:Ni}function Ii(){return{}}function Ti(t){return t}function Li(){}function Fi(){return!1}function Ni(){return Date.now()}Ai.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Ai.stdSerializers=Si,Ai.stdTimeFunctions=Object.assign({},{nullTime:Fi,epochTime:Ni,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),wi.exports.default=Ai,wi.exports.pino=Ai;var Wi=le(wi.exports);let Hi=c.fileURLToPath("undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(Hi).href:"undefined"==typeof document?location.href:l&&"SCRIPT"===l.tagName.toUpperCase()&&l.src||new URL("w-dwdata-builder.umd.js",document.baseURI).href),Ui=e.dirname(Hi);let Bi=function(t={}){let r=yt(t,"fdLog");se(r)||(r="./_logs");let n=yt(t,"interval");"day"!==n&&"hr"!==n&&(n="day");let i=Wi.transport({targets:[{level:"info",target:e.resolve(Ui,"./formatter.mjs"),options:{interval:n,logDir:r}}]});return Wi(i)}({fdLog:"./_logs",interval:"hr"});return async(r={})=>{let n=yt(r,"keyId");se(n)||(n="id");let i=yt(r,"fdDwAttime");se(i)||(i="./_dwAttime"),Jr(i)||Xr(i);let s=yt(r,"fdDwCurrent");se(s)||(s="./_dwCurrent"),Jr(s)||Xr(s);let o=yt(r,"fdResult");se(o)||(o="./_result"),Jr(o)||Xr(o);let a=yt(r,"fdTaskCpSrc");se(a)||(a="./_taskCpSrc"),Jr(a)||Xr(a);let c=yt(r,"funDownload");if(!oe(c))throw new Error("invalid funDownload");let l=yt(r,"funGetCurrent");if(!oe(l))throw new Error("invalid funGetCurrent");let u=yt(r,"funAdd");if(!oe(u))throw new Error("invalid funAdd");let f=yt(r,"funModify");if(!oe(f))throw new Error("invalid funModify");let h=yt(r,"funRemove");if(!oe(h))throw new Error("invalid funRemove");let d=$r(),p=t=>{Bi.info(t),d.emit("change",{type:"info",...t})},v=t=>{Bi.error(t),d.emit("change",{type:"error",...t})};return(async()=>{await function(t=10){xr(t)||(t=10);let e=Vr();return setTimeout(function(){e.resolve()},t),e}(1);let r=_i(),o=()=>{let t=_i(),e=t.diff(r,"second");return{timeRunStart:r.format("YYYY-MM-DDTHH:mm:ssZ"),timeRunEnd:t.format("YYYY-MM-DDTHH:mm:ssZ"),timeRunSpent:`${e}s`}};p({event:"start",msg:"running..."});let d="",y=mi(a,a).buildSrc(),m=[];try{p({event:"proc-callfun-download",msg:"start..."});let t=c();ae(t)&&(t=await t),p({event:"proc-callfun-download",msg:"done"}),m=t}catch(t){console.log(t),v({event:"proc-callfun-download",msg:t.message}),d="error at proc-callfun-download"}if(se(d))return console.log("error occurred, task canceled"),void p({event:"cancel",...o(),msg:d});let g=[];try{p({event:"proc-callfun-getCurrent",msg:"start..."});let t=l();ae(t)&&(t=await t),p({event:"proc-callfun-getCurrent",msg:"done"}),g=t}catch(t){console.log(t),v({event:"proc-callfun-getCurrent",msg:t.message}),d="error at proc-callfun-getCurrent"}if(se(d))return console.log("error occurred, task canceled"),void p({event:"cancel",...o(),msg:d});if(0===re(m))return console.log("invalid data, task canceled"),void p({event:"cancel",...o(),msg:"can not download data"});if(re(g)-re(m)>10)return console.log(`difference between the data before and after is too large, size(eqsCur)[${re(g)}]-size(eqsAtt)[${re(m)}]>10`),void p({event:"cancel",...o(),msg:"difference between the data before and after is too large"});let _=null;try{p({event:"compare",msg:"start..."}),_=Pr(g,m,n,{withInfor:!1}),p({event:"compare",msg:"done"})}catch(t){console.log(t),v({event:"compare",msg:t.message})}if(!ie(_))return console.log("can not calculate the difference, task canceled"),void p({event:"cancel",...o(),msg:"can not calculate the difference between the data before and after"});if(0===re(_.del)&&0===re(_.add)&&0===re(_.diff))return console.log("no difference, task canceled"),void p({event:"cancel",...o(),msg:"no difference"});if(await Gr(_.del,async t=>{if(!se(d)){try{p({event:"proc-remove-callfun-remove",[n]:t[n],msg:"start..."});let e=h(t);ae(e)&&(e=await e)}catch(e){console.log(e),v({event:"proc-remove-callfun-remove",[n]:t[n],msg:e.message}),d="error at proc-remove-callfun-remove"}if(!se(d))try{y.remove(t[n]),p({event:"proc-remove-callfun-remove",[n]:t[n],msg:"done"})}catch(e){console.log(e),v({event:"proc-remove-otk-remove",[n]:t[n],msg:e.message}),d="error at proc-remove-otk-remove"}}}),se(d))return console.log("error occurred, task canceled"),void p({event:"cancel",...o(),msg:d});if(await Gr(_.add,async t=>{if(!se(d)){try{p({event:"proc-add-callfun-add",[n]:t[n],msg:"start..."});let e=u(t);ae(e)&&(e=await e)}catch(e){console.log(e),v({event:"proc-add-callfun-add",[n]:t[n],msg:e.message}),d="error at proc-add-callfun-add"}if(!se(d))try{let e=_e(JSON.stringify(t));y.set(t[n],e),p({event:"proc-add-callfun-add",[n]:t[n],msg:"done"})}catch(e){console.log(e),v({event:"proc-add-otk-set",[n]:t[n],msg:e.message}),d="error at proc-add-otk-set"}}}),se(d))return console.log("error occurred, task canceled"),void p({event:"cancel",...o(),msg:d});if(await Gr(_.diff,async t=>{if(!se(d)){try{p({event:"proc-diff-callfun-modify",[n]:t[n],msg:"start..."});let e=f(t);ae(e)&&(e=await e)}catch(e){console.log(e),v({event:"proc-diff-callfun-modify",[n]:t[n],msg:e.message}),d="error at proc-diff-callfun-modify"}if(!se(d))try{let e=_e(JSON.stringify(t));y.set(t[n],e),p({event:"proc-diff-callfun-modify",[n]:t[n],msg:"done"})}catch(e){console.log(e),v({event:"proc-diff-otk-set",[n]:t[n],msg:e.message}),d="error at proc-diff-otk-set"}}}),se(d))return console.log("error occurred, task canceled"),void p({event:"cancel",...o(),msg:d});{Qr(s);let r=function(r,n,i={}){return en(r,n,{path:e,fs:t,...i})}(i,s);if(r.error)return console.log(r.error),v({event:"task-update-rawData",msg:r.error}),void(d="error at task-update-rawData")}if(se(d))return console.log("error occurred, task canceled"),void p({event:"cancel",...o(),msg:d});p({event:"end",...o(),msg:"done"})})().catch(t=>{console.log(t),v({event:"proc-core",msg:t.message})}),d}});
//# sourceMappingURL=w-dwdata-builder.umd.js.map
